.container
  %h4 Book Mover
  %h4= @mover.name
  .rating-container
    .rating{data: {rating: @mover.yelp_stars}}
      %i.star-1 ★
      %i.star-2 ★
      %i.star-3 ★
      %i.star-4 ★
      %i.star-5 ★

  = form_tag bookings_path do
    = text_field_tag "booking[mover_id]", @mover.id, {hidden: true}
    = text_field_tag "booking[move_date]", nil, {hidden: true}
    %h4 From
    = text_field_tag "booking[from]", @from, {placeholder: "From", class: "form-control", required: true}
    %h4 To
    = text_field_tag "booking[to]", @to, {placeholder: "To", class: "form-control", required: true}
    %h4 Moving Date
    #calendar
    %h4 Email
    = text_field_tag "booking[email]", nil, {placeholder: "Enter an email", class: "form-control", required: true}
    .modal-footer
      = submit_tag "Book", class: "btn btn-primary btn-block"

:javascript
  $("#calendar").datepicker({
    autoclose: true
  });

  $("form").submit(function (e) {
    var $datepicker = $(".datepicker");
    var day = $datepicker.find(".active.day").text();
    var month = $datepicker.find(".active.month").text();
    var year = $datepicker.find(".active.year").text();
    var email = $("#modalEmail").text();

    if (day === "" || month === "" || year === "") {
      e.preventDefault();
      alert("Please choose a moving date");
    }

    $("#booking_move_date").val(day + "/" + month + "/" + year);
  });